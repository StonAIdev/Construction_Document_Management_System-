let tree = [
  {
    name: "Submittals",
    children: [
      {
        name: "Shop Drawing Submittals",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Engineering Department",
        children: [],
      },
      {
        name: "Material Submittals",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Engineering Department",
        children: [],
      },
      {
        name: "Prequalification Submittal",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Engineering Department",
        children: [],
      },
      {
        name: "Technical Submittal",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Engineering Department",
        children: [],
      },
      {
        name: "Method Statement Submittal",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Engineering Department",
        children: [],
      },
      {
        name: "Request for Information",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Engineering Department",
        children: [],
      },
      {
        name: "Meterial Inspection Request",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Construction Department",
        children: [],
      },
      {
        name: "Work Inspection Request",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Construction Department",
        children: [],
      },
      {
        name: "Architectural Inspection Request",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Construction Department",
        children: [],
      },
      {
        name: "Non Conformance Report",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        department: "Quality Control Department",
        children: [],
      },
      {
        name: "Site Instruction",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: null,
        department: "Quality Control Department",
        children: [],
      },
      {
        name: "submittal 1",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [
          {
            name: "lkwdmklewmwlkew",
            update: false,
            share: true,
            delete: true,
            move: true,
            children: [],
          },
          {
            name: "submitttal runtime 1",
            update: false,
            share: true,
            delete: true,
            move: true,
            children: [
              {
                name: "abababa",
                update: false,
                share: true,
                delete: true,
                move: true,
                children: [],
              },
            ],
          },
        ],
        processed: true,
      },
      {
        name: "submittal 2",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
        processed: true,
      },
    ],
  },
  {
    name: "Intelligent Search",
    children: [
      {
        name: "Responsibility Matrix",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Tender Addendums",
        update: null,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Text Contract",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Scanned Contract",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "BOQ",
        update: null,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "MOM",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Other",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "test intelligent 1",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [
          {
            name: "asassa",
            update: false,
            share: true,
            delete: true,
            move: true,
            children: [
              {
                name: "aaaaa",
                update: false,
                share: true,
                delete: true,
                move: true,
                children: [],
              },
            ],
          },
          {
            name: "aoaoaoa",
            update: false,
            share: true,
            delete: true,
            move: true,
            children: [
              {
                name: "asasda",
                update: false,
                share: true,
                delete: true,
                move: true,
                children: [],
              },
            ],
          },
        ],
        processed: true,
      },
    ],
  },
  {
    name: "Bucket",
    children: [
      {
        name: "Bucket",
        update: false,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Incoming Letters",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Outgoing Letters",
        update: true,
        share: true,
        delete: true,
        download: true,
        exportFile: true,
        children: [],
      },
      {
        name: "Bucket folder test",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
        processed: true,
      },
    ],
  },
  { name: "root folder 44", children: [] },
  {
    name: "root folder 1",
    children: [
      {
        name: "root folder 2",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
      },
      {
        name: "root folder 1",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
      },
    ],
  },
  {
    name: "root 2",
    children: [
      {
        name: "root testing 3",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
      },
    ],
  },
  {
    name: "updated 2",
    children: [
      {
        name: "testing 33",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
      },
      {
        name: "testing 1",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [
          {
            name: "testing 2",
            update: false,
            share: true,
            delete: true,
            move: true,
            children: [
              {
                name: "update submittals",
                update: false,
                share: true,
                delete: true,
                move: true,
                children: [],
              },
            ],
          },
        ],
      },
    ],
  },
  { name: "dsfdsf", children: [] },
  { name: "okojojoih", children: [] },
  {
    name: "abdhfrefkj",
    children: [
      {
        name: "okokesf",
        update: false,
        share: true,
        delete: true,
        move: true,
        children: [],
      },
    ],
  },
  { name: "test add 1", children: [] },
];
// const flatTree = tree.map((rootItem) => {
//   return {
//     depth: 0,
//     item: rootItem.name,
//     children: rootItem.children?.map((itemChild) => {
//       return { depth: 1, item: itemChild };
//     }),
//   };
// });
// console.log(flatTree);

function traverse(node, depth, result) {
  if (!node) {
     return;
  }
 
  result.push({
     depth: depth,
     item: node.name,
  });
 
  if (node.children && node.children.length > 0) {
     for (let i = 0; i < node.children.length; i++) {
       traverse(node.children[i], depth + 1, result);
     }
  }
 }
 
 // Call the function and print the result
 let result = [];
 for (let i = 0; i < tree.length; i++) {
  traverse(tree[i], 0, result);
 }
 console.log(result);